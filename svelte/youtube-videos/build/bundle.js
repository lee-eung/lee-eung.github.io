var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t){return null==t?"":t}function i(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function r(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t){return""===t?null:+t}function m(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function g(t,e){t.value=null==e?"":e}let y;function $(t){y=t}function b(t){(function(){if(!y)throw new Error("Function called outside component initialization");return y})().$$.on_mount.push(t)}const x=[],_=[],k=[],w=[],q=Promise.resolve();let I=!1;function E(t){k.push(t)}let T=!1;const j=new Set;function A(){if(!T){T=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];$(e),C(e.$$)}for($(null),x.length=0;_.length;)_.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];j.has(e)||(j.add(e),e())}k.length=0}while(x.length);for(;w.length;)w.pop()();I=!1,T=!1,j.clear()}}function C(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const O=new Set;const L="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function N(t,e){-1===t.$$.dirty[0]&&(x.push(t),I||(I=!0,q.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function P(c,u,i,l,a,d,p,f=[-1]){const h=y;$(c);const v=c.$$={fragment:null,ctx:null,props:d,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:u.context||[]),callbacks:n(),dirty:f,skip_bound:!1,root:u.target||h.$$.root};p&&p(v.root);let m=!1;if(v.ctx=i?i(c,u.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return v.ctx&&a(v.ctx[t],v.ctx[t]=o)&&(!v.skip_bound&&v.bound[t]&&v.bound[t](o),m&&N(c,t)),e})):[],v.update(),m=!0,o(v.before_update),v.fragment=!!l&&l(v.ctx),u.target){if(u.hydrate){const t=function(t){return Array.from(t.childNodes)}(u.target);v.fragment&&v.fragment.l(t),t.forEach(r)}else v.fragment&&v.fragment.c();u.intro&&((g=c.$$.fragment)&&g.i&&(O.delete(g),g.i(b))),function(t,n,c,u){const{fragment:i,on_mount:l,on_destroy:r,after_update:a}=t.$$;i&&i.m(n,c),u||E((()=>{const n=l.map(e).filter(s);r?r.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(E)}(c,u.target,u.anchor,u.customElement),A()}var g,b;$(h)}class R{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function S(e){let n,o,s;return{c(){n=a("textarea")},m(t,c){l(t,n,c),g(n,e[0]),e[3](n),o||(s=f(n,"input",e[2]),o=!0)},p(t,[e]){1&e&&g(n,t[0])},i:t,o:t,d(t){t&&r(n),e[3](null),o=!1,s()}}}function D(t,e,n){let o,{result_json:s}=e;return b((()=>{o.select(),document.execCommand("copy")})),t.$$set=t=>{"result_json"in t&&n(0,s=t.result_json)},[s,o,function(){s=this.value,n(0,s)},function(t){_[t?"unshift":"push"]((()=>{o=t,n(1,o)}))}]}class Y extends R{constructor(t){super(),P(this,t,D,S,c,{result_json:0})}}const{document:B}=L;function J(e){let n,s,c,y,$,b,x,_,k,w,q,I,E,T,j,A,C,O,L,N,P,R,S,D,Y,J,z,F,G,M,U,Z,H,Q,V,W,X,tt,et,nt,ot,st,ct,ut,it,lt,rt,at,dt;return B.title=n=K,{c(){s=p(),c=a("main"),y=a("header"),y.textContent=`${K}`,$=p(),b=a("div"),x=a("div"),_=d("YouTube Data API v3 - API Key: "),k=a("input"),w=p(),q=a("span"),I=d(e[7]),E=p(),T=a("div"),j=d("YouTube Channel List ID: "),A=a("input"),C=p(),O=a("span"),L=d(e[8]),N=p(),P=a("input"),R=p(),S=a("span"),D=d("전체"),J=p(),z=a("span"),F=d("최근 "),G=a("input"),M=d("개"),Z=p(),H=a("button"),H.textContent="영상 목록 가져오기",Q=p(),V=a("button"),W=d("json 내용을 클립보드에 복사하기"),tt=p(),et=a("span"),nt=d(e[9]),ot=p(),st=a("div"),ct=p(),ut=a("div"),it=a("textarea"),lt=p(),rt=a("textarea"),h(y,"class","svelte-av51qc"),h(k,"type","password"),h(k,"class","svelte-av51qc"),h(q,"class","input_msg svelte-av51qc"),h(A,"type","text"),h(A,"class","svelte-av51qc"),h(O,"class","input_msg svelte-av51qc"),h(P,"type","checkbox"),P.checked=!0,h(P,"class","checkbox_class svelte-av51qc"),h(S,"class",Y=u(e[10])+" svelte-av51qc"),h(G,"type","number"),h(G,"min","1"),h(G,"class","input_number svelte-av51qc"),h(z,"class",U=u(e[5])+" svelte-av51qc"),h(H,"class","svelte-av51qc"),h(V,"class",X="button-primary "+e[6]+" svelte-av51qc"),h(et,"class","copy_result_msg svelte-av51qc"),h(st,"id","clipboard"),h(b,"class","form"),it.readOnly=!0,it.value=e[2],h(it,"class","svelte-av51qc"),rt.readOnly=!0,rt.value=e[3],h(rt,"class","svelte-av51qc"),h(c,"class","svelte-av51qc")},m(t,n){l(t,s,n),l(t,c,n),i(c,y),i(c,$),i(c,b),i(b,x),i(x,_),i(x,k),g(k,e[0]),e[19](k),i(x,w),i(x,q),i(q,I),i(b,E),i(b,T),i(T,j),i(T,A),g(A,e[1]),e[21](A),i(T,C),i(T,O),i(O,L),i(b,N),i(b,P),e[22](P),i(b,R),i(b,S),i(S,D),i(b,J),i(b,z),i(z,F),i(z,G),g(G,e[4]),i(z,M),i(b,Z),i(b,H),i(b,Q),i(b,V),i(V,W),i(b,tt),i(b,et),i(et,nt),i(b,ot),i(b,st),i(c,ct),i(c,ut),i(ut,it),i(ut,lt),i(ut,rt),at||(dt=[f(k,"input",e[18]),f(k,"keypress",e[17]),f(A,"input",e[20]),f(A,"keypress",e[17]),f(P,"click",e[16]),f(G,"input",e[23]),f(G,"keypress",e[17]),f(H,"click",e[14]),f(V,"click",e[15])],at=!0)},p(t,e){0&e&&n!==(n=K)&&(B.title=n),1&e[0]&&k.value!==t[0]&&g(k,t[0]),128&e[0]&&m(I,t[7]),2&e[0]&&A.value!==t[1]&&g(A,t[1]),256&e[0]&&m(L,t[8]),1024&e[0]&&Y!==(Y=u(t[10])+" svelte-av51qc")&&h(S,"class",Y),16&e[0]&&v(G.value)!==t[4]&&g(G,t[4]),32&e[0]&&U!==(U=u(t[5])+" svelte-av51qc")&&h(z,"class",U),64&e[0]&&X!==(X="button-primary "+t[6]+" svelte-av51qc")&&h(V,"class",X),512&e[0]&&m(nt,t[9]),4&e[0]&&(it.value=t[2]),8&e[0]&&(rt.value=t[3])},i:t,o:t,d(t){t&&r(s),t&&r(c),e[19](null),e[21](null),e[22](null),at=!1,o(dt)}}}const K="유튜브 채널 동영상 목록 가져오기",z="https://www.googleapis.com/youtube/v3/playlistItems?",F=50;function G(t,e,n){let o,s,c,u,i="",l="",r="",a="",d=50,p=-1,f="hidden",h="hidden",m="",g="",y="",$="",b=!0;const x={videos:[]},k={part:"snippet",playlistId:"",key:"",maxResults:50},w={method:"GET"};function q(){(function(){if(function(){n(7,m=""),n(8,g=""),n(9,y=""),n(6,h="hidden"),n(2,r=""),n(3,a=""),p=c.checked?-1:d,k.pageToken="",k.key=i,k.playlistId=l,x.videos=[]}(),i.trim().length<5)return o.focus(),n(7,m="API Key를 입력해주세요."),!1;if(l.trim().length<5)return s.focus(),n(8,g="YouTube Channel List ID를 입력해주세요."),!1;return!0})()&&(I("유튜브 채널 영상 목록을 가져오기 시작합니다.\n"),I("(아래 출력되는 번호들은 영상의 index 번호이며 0번부터 시작합니다.)\n"),I("----------------------------------------\n"),u=setInterval((()=>{fetch(function(){k.maxResults=function(){if(c.checked)return F;const t=x.videos.length;return p=d-t,p<F?p:F}();let t=[];for(let e in k)t.push(`${e}=${k[e]}`);return z+t.join("&")}(),w).then((t=>t.text())).then((t=>function(t){const e=JSON.parse(t);try{e.items.forEach((t=>{const e=function(t){const e={index:t.snippet.position,publishedAt:t.snippet.publishedAt.replace("T"," ").replace("Z",""),videoId:t.snippet.resourceId.videoId,videoURL:`https://www.youtube.com/watch?v=${t.snippet.resourceId.videoId}`,thumbnail:t.snippet.thumbnails.high.url,title:t.snippet.title,description:t.snippet.description};return x.videos.push(e),e}(t);x.videos.length>1&&I(", "),I(e.index)})),function(t){k.pageToken=t.nextPageToken,b=c.checked?x.videos.length<t.pageInfo.totalResults:p>F,b||(clearInterval(u),n(6,h=""),I("\n----------------------------------------\n"),I("유튜브 채널 영상 목록 가져오기를 마쳤습니다.\n"),n(3,a=JSON.stringify(x,null,4)))}(e)}catch(t){console.log({"result.items":e.items}),console.log(t)}}(t))).catch((t=>console.log("error",t)))}),3e3))}function I(t){n(2,r+=t)}return[i,l,r,a,d,f,h,m,g,y,$,o,s,c,q,()=>{const t=new Y({target:document.getElementById("clipboard"),props:{result_json:a}});n(9,y="클립보드에 복사되었습니다."),t.$destroy()},function(){c.checked?(n(10,$=""),n(5,f="hidden")):(n(10,$="vague_text"),n(5,f=""))},t=>{13===t.charCode&&q()},function(){i=this.value,n(0,i)},function(t){_[t?"unshift":"push"]((()=>{o=t,n(11,o)}))},function(){l=this.value,n(1,l)},function(t){_[t?"unshift":"push"]((()=>{s=t,n(12,s)}))},function(t){_[t?"unshift":"push"]((()=>{c=t,n(13,c)}))},function(){d=v(this.value),n(4,d)}]}return new class extends R{constructor(t){super(),P(this,t,G,J,c,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
